--
title:  Codebook for run_analysis.R
author: Karl Snyder
date:   Mar 3, 2016
output:
  data.frame
---
  
## Project Description
The objective of this script is to create a single data set that meets the following criteria:

1 Merges the training and the test sets to create one data set. 
2 Extracts only the measurements on the mean and standard deviation for each measurement.
3 Uses descriptive activity names to name the activities in the data set 
4 Appropriately labels the data set with descriptive variable names. 
5 From the data set in step 4, creates a data set with the average of each variable for each activity and each subject

##Study design and data processing
A description of the original study, data collection, and variable calculations can be found here:

http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones

###Notes on the original (raw) data 
The raw data for this script can be sourced from the following files. The path assumes that the files are in the working directory.

"./features.txt" - names of the 561 metrics from the original study
"./activity_labels.txt"" - description of each of the 6 activity types
"./train/subject_train.txt" - subject ids the 7352 obs in the training subgroup
"./train/y_train.txt" - activity ids for the 7352 obs in the training subgroup
"./train/x_train.txt" - values for each metric and obs in the training subgroup
"./train/subject_test.txt" - subject ids the 7352 obs in the test subgroup
"./train/y_test.txt" - activity ids for the 7352 obs in the test subgroup
"./train/x_test.txt" - values for each metric and obs in the test subgroup

##Creating the tidy datafile
1. Install plyr and dplyr packages. This script uses functions from the plyr and dplyr package and starts with library() for each.
2. Read in the descriptive files "features.txt" and "activity_labels.txt"
3. Extract the column headings and associated indexes for mean and standard deviation metrics using grep(). The string "mean[^F]" specifically excludes the meanFreq metrics.
4. Build the tidy training data set.  Read in the subject, activity, and variables (x_train) files from the train folder.  
5. Extract the mean and std deviation metrics based on step 3. Combine using cbind().
6. Repeat steps 4&5 for the test data set.
7. Combine tidy train and test data using rbind() to get an overall tidy data set that meets objectives 1-4.
8. Create a summary data set of means for each metric by subject and activity called "results"

##Description of the variables in the results.txt file including a) number of ##rows and columns, b) name of each column, c) class of each column
'data.frame':	40 obs. of  69 variables:
 $ subject                    : int  1 2 3 4  ... 
 $ activitynum                : int  1 1 1 1  ...
 $ activitydescription        : Factor w/ 6 levels "LAYING","SITTING",..
 $ tBodyAcc-mean()-X          : num  0.266 0.273 0.273 ...
 $ tBodyAcc-mean()-Y          : num  -0.0183 -0.0191 -0.0179 -0.0133 ...
 $ tBodyAcc-mean()-Z          : num  -0.108 -0.116 -0.106 -0.106 ...
 $ tGravityAcc-mean()-X       : num  0.745 0.661 0.708 0.731 ...
 $ tGravityAcc-mean()-Y       : num  -0.0826 -0.1472 -0.0261 0.0723 ...
 $ tGravityAcc-mean()-Z       : num  0.0723 0.1349 0.0481 0.194 ...
 $ tBodyAccJerk-mean()-X      : num  0.0771 0.0785 0.0702 0.078 ...
 $ tBodyAccJerk-mean()-Y      : num  0.01659 0.00709 0.01447 ...
 $ tBodyAccJerk-mean()-Z      : num  -0.009108 0.000756 -0.000527 -0.007371 ...
 $ tBodyGyro-mean()-X         : num  -0.0209 -0.0517 -0.0248 -0.0299 ...
 $ tBodyGyro-mean()-Y         : num  -0.0881 -0.0568 -0.0744 -0.075 -0.0846 ...
 $ tBodyGyro-mean()-Z         : num  0.0863 0.0873 0.0867 0.0957 0.0958 ...
 $ tBodyGyroJerk-mean()-X     : num  -0.0971 -0.0876 -0.0992 -0.1051 ...
 $ tBodyGyroJerk-mean()-Y     : num  -0.0417 -0.0434 -0.0402 -0.0411 ...
 $ tBodyGyroJerk-mean()-Z     : num  -0.0471 -0.0558 -0.0521 -0.0609 ...
 $ tBodyAccMag-mean()         : num  -0.454 -0.535 -0.563 -0.638 ...
 $ tGravityAccMag-mean()      : num  -0.454 -0.535 -0.563 -0.638 ...
 $ tBodyAccJerkMag-mean()     : num  -0.545 -0.588 -0.65 -0.722 ...
 $ tBodyGyroMag-mean()        : num  -0.475 -0.615 -0.643 -0.708 ...
 $ tBodyGyroJerkMag-mean()    : num  -0.64 -0.747 -0.784 -0.85 ...
 $ fBodyAcc-mean()-X          : num  -0.532 -0.574 -0.626 -0.699 ...
 $ fBodyAcc-mean()-Y          : num  -0.406 -0.433 -0.502 -0.611 ...
 $ fBodyAcc-mean()-Z          : num  -0.596 -0.63 -0.7 -0.785  ...
 $ fBodyAccJerk-mean()-X      : num  -0.547 -0.562 -0.646 -0.718 ...
 $ fBodyAccJerk-mean()-Y      : num  -0.507 -0.509 -0.583 -0.685 ...
 $ fBodyAccJerk-mean()-Z      : num  -0.695 -0.716 -0.78 -0.845 ...
 $ fBodyGyro-mean()-X         : num  -0.623 -0.639 -0.642 -0.708 ...
 $ fBodyGyro-mean()-Y         : num  -0.505 -0.722 -0.775 -0.852 ...
 $ fBodyGyro-mean()-Z         : num  -0.554 -0.602 -0.671 -0.724 ...
 $ fBodyAccMag-mean()         : num  -0.478 -0.515 -0.579 -0.668 ...
 $ fBodyBodyAccJerkMag-mean() : num  -0.499 -0.51 -0.605 -0.702 ...
 $ fBodyBodyGyroMag-mean()    : num  -0.535 -0.7 -0.717 -0.785 ...
 $ fBodyBodyGyroJerkMag-mean(): num  -0.646 -0.752 -0.81 -0.868 ...
 $ tBodyAcc-std()-X           : num  -0.546 -0.606 -0.623 -0.684 ...
 $ tBodyAcc-std()-Y           : num  -0.368 -0.429 -0.48 -0.59 ...
 $ tBodyAcc-std()-Z           : num  -0.503 -0.589 -0.654 -0.742 ...
 $ tGravityAcc-std()-X        : num  -0.96 -0.963 -0.966 -0.968 ...
 $ tGravityAcc-std()-Y        : num  -0.951 -0.96 -0.945 -0.942 ...
 $ tGravityAcc-std()-Z        : num  -0.926 -0.945 -0.927 -0.937 ...
 $ tBodyAccJerk-std()-X       : num  -0.525 -0.558 -0.635 -0.701 ...
 $ tBodyAccJerk-std()-Y       : num  -0.47 -0.492 -0.557 -0.671 ...
 $ tBodyAccJerk-std()-Z       : num  -0.717 -0.742 -0.796 -0.86 ...
 $ tBodyGyro-std()-X          : num  -0.687 -0.711 -0.699 -0.751 ...
 $ tBodyGyro-std()-Y          : num  -0.451 -0.723 -0.763 -0.829 ...
 $ tBodyGyro-std()-Z          : num  -0.597 -0.635 -0.709 -0.746 ...
 $ tBodyGyroJerk-std()-X      : num  -0.638 -0.672 -0.689 -0.778 ...
 $ tBodyGyroJerk-std()-Y      : num  -0.634 -0.784 -0.843 -0.911 ...
 $ tBodyGyroJerk-std()-Z      : num  -0.665 -0.675 -0.743 -0.791 ...
 $ tBodyAccMag-std()          : num  -0.497 -0.553 -0.591 -0.67 ...
 $ tGravityAccMag-std()       : num  -0.497 -0.553 -0.591 -0.67 ...
 $ tBodyAccJerkMag-std()      : num  -0.516 -0.512 -0.608 -0.71 ...
 $ tBodyGyroMag-std()         : num  -0.5 -0.681 -0.674 -0.749 ...
 $ tBodyGyroJerkMag-std()     : num  -0.652 -0.74 -0.804 -0.871 ...
 $ fBodyAcc-std()-X           : num  -0.553 -0.62 -0.624 -0.679 ...
 $ fBodyAcc-std()-Y           : num  -0.39 -0.465 -0.503 -0.606 ...
 $ fBodyAcc-std()-Z           : num  -0.499 -0.601 -0.657 -0.74 ...
 $ fBodyAccJerk-std()-X       : num  -0.544 -0.595 -0.658 -0.711 ...
 $ fBodyAccJerk-std()-Y       : num  -0.466 -0.509 -0.56 -0.679 ...
 $ fBodyAccJerk-std()-Z       : num  -0.738 -0.767 -0.811 -0.872 ...
 $ fBodyGyro-std()-X          : num  -0.708 -0.735 -0.719 -0.766 ...
 $ fBodyGyro-std()-Y          : num  -0.43 -0.727 -0.759 -0.818 ...
 $ fBodyGyro-std()-Z          : num  -0.65 -0.683 -0.751 -0.779 ...
 $ fBodyAccMag-std()          : num  -0.59 -0.647 -0.663 -0.725 ...
 $ fBodyBodyAccJerkMag-std()  : num  -0.542 -0.519 -0.616 -0.723 ...
 $ fBodyBodyGyroMag-std()     : num  -0.567 -0.725 -0.704 -0.769 ...
 $ fBodyBodyGyroJerkMag-std() : num  -0.686 -0.744 -0.81 -0.884 ...


